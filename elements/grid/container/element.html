<template id="grid-container">
  <style>
    :host(*) {
      flex: 1 1 100%;
      width: 100%;
      display: block;
    }

    :host-context([fluid]) {
      max-width: 100%;
    }
  </style>

  <slot></slot>
</template>

<script>
  (function () {
    /* globals document, customElements, Chefdoeurve */
    const importDoc = document.currentScript.ownerDocument;

    class GridContainer extends Chefdoeurve.ResponsiveElement {
      static get observedAttributes() { return []; }

      constructor() {
        super();
        this.mediaQueries([
          {
            query: '(min-width: 600px)',
            style: {
              maxWidth: '562.5px',
            },
          },
          {
            query: '(min-width: 960px)',
            style: {
              maxWidth: '900px',
            },
          },
          {
            query: '(min-width: 1264px)',
            style: {
              maxWidth: '1185px',
            },
          },
        ]);
      }

      getStyles() {
        return {
          margin: 'auto',
          padding: '16px',
        };
      }

      render() {
        const template = importDoc.querySelector('template#grid-container');
        const node = importDoc.importNode(template.content, true);
        this.setNode(node);
      }
    }

    customElements.define('grid-container', GridContainer);
  }());
</script>

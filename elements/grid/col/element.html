<link href="../../base/base.html">

<template id="grid-col">
  <style>
    @media screen and (min-width: 960px) {
      :host([offset-md='3']) {
        margin-left: 25%;
      }
    }
    @media screen and  (min-width: 960px) {
      :host([md='6']) {
        flex-basis: 50%;
        max-width: 50%;
      }
    }
    @media screen and (min-width: 0) {
      :host([xs='12']) {
        flex-basis: 100%;
        max-width: 100%;
      }
    }

    :host {
      flex: 1 1 auto;
      display: block;
    }
  </style>

  <slot></slot>
</template>

<script>
  (function () {
    /* globals document, customElements, Chefdoeurve */
    const importDoc = document.currentScript.ownerDocument;

    class GridCol extends Chefdoeurve.ScreenElement {
      static get observedAttributes() { return ['offset-md']; }

      get xsScreenStyle() {
        if (this.hasAttribute('xs')) {
          if (this.getAttribute('xs') === '12') {
            return {
              maxWidth: '100%',
            };
          }
        }
        return {};
      }

      get mdScreenStyle() {
        if (this.hasAttribute('md')) {
          if (this.getAttribute('md') === '6') {
            return {
              maxWidth: '50%',
            };
          }
        }
        return {};
      }

      render() {
        const template = importDoc.querySelector('template#grid-col');
        const node = importDoc.importNode(template.content, true);
        this.setNode(node);
      }

      getStyles() {
        if (this.hasAttribute('offset-md')) {
          if (this.getAttribute('offset-md') === '3') {
            return {
              marginLeft: '25%',
            };
          }
        }

        return {};
      }
    }

    customElements.define('grid-col', GridCol);
  }());
</script>

<link rel="import" href="boot.html">

<script>
  (function () {
    /* globals HTMLElement, Chefdoeurve */

    class CustomElement extends HTMLElement {
      constructor() {
        super();
        this.attachShadow({ mode: 'open' });
        this.node = null;
      }

      connectedCallback() {
        this.render();
      }

      attributeChangedCallback() {
        this.render();
      }

      getStyles() {
        return {};
      }

      setNode(node) {
        while (this.shadowRoot.firstChild) {
          this.shadowRoot.removeChild(this.shadowRoot.firstChild);
        }
        this.shadowRoot.appendChild(node);
        this.configStyle();
        this.node = node;
      }

      configStyle() {
        Object.assign(this.style, this.getStyles());
      }
    }

    Chefdoeurve.CustomElement = CustomElement;
  }());
</script>
